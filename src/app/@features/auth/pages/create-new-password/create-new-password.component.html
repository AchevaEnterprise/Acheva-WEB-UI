<app-svg-backgroud>
  <div
    content
    class="relative bg-white rounded-2xl m-12 grid gap-8 place-content-center place-items-center"
  >
    <div class="text-center">
      <p class="acva-heading-3 fw-600">Create New Password</p>
      <p class="acva-para-1 text-neutral-400">
        Secure your account with a strong password
      </p>
    </div>

    <form [formGroup]="form" class="grid w-[40vw] place-items-center">
      <div class="input-style-1 acheva-input w-full">
        <p class="acva-para-2 fw-400 label-text">Create Password</p>

        <mat-form-field [style.width.%]="100" appearance="outline">
          <span matPrefix>
            <app-svg
              svgWidth="1rem"
              svgHeight="1rem"
              src="icons/general/lock-icon.svg"
            ></app-svg
          ></span>

          <input
            matInput
            placeholder="Create a strong password"
            [type]="showPassword() ? 'text' : 'password'"
            formControlName="password"
          />

          <button
            class="cursor-pointer"
            matSuffix
            (click)="togglePasswordVisibility()"
          >
            <mat-icon>{{
              showPassword() ? 'visibility' : 'visibility_off'
            }}</mat-icon>
          </button>

          <mat-hint class="flex w-full">
            <app-password-validity [password]="form.get('password')?.value" />
          </mat-hint>
        </mat-form-field>
      </div>

      <div class="input-style-1 acheva-input w-full mt-3">
        <p class="acva-para-2 fw-400 label-text">Confirm Password</p>

        <mat-form-field [style.width.%]="100" appearance="outline">
          <span matPrefix>
            <app-svg
              svgWidth="1rem"
              svgHeight="1rem"
              src="icons/general/lock-icon.svg"
            ></app-svg
          ></span>

          <input
            matInput
            placeholder="Confirm new password"
            [type]="showConfirmPassword() ? 'text' : 'password'"
            formControlName="confirm_password"
          />

          <button
            class="cursor-pointer"
            matSuffix
            (click)="toggleConfirmPasswordVisibility()"
          >
            <mat-icon>{{
              showConfirmPassword() ? 'visibility' : 'visibility_off'
            }}</mat-icon>
          </button>

          <mat-hint class="text-red-500 acva-caption">
            {{ passwordMatchError() }}
          </mat-hint>
        </mat-form-field>
      </div>

      <div class="mt-4">
        <app-button
          class="w-96"
          label="Confirm"
          [disabled]="form.invalid"
          [loading]="isLoading()"
          (clickEvent)="submitForm()"
        />
      </div>
    </form>
  </div>
</app-svg-backgroud>
